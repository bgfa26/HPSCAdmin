CREATE TABLE dbo.EMPLOYEE(
	ID								int NOT NULL,
	WORKERID						varchar(20) NOT NULL UNIQUE,
	FIRSTNAME						varchar(50) NOT NULL,
	LASTNAME						varchar(50) NOT NULL,
	EMAIL							varchar(120) NOT NULL UNIQUE,
	PASSWORD						Varchar(50) NOT NULL,
	CONSTRAINT PK_EMPLOYEE_ID PRIMARY KEY (ID)
);


CREATE TABLE dbo.TIMESHEET(
	ID								int NOT NULL,
	INITDATE						date NOT NULL,
	ENDDATE							date NOT NULL,
	STATUS							varchar(50) NOT NULL,
	FK_EMPLOYEE						int NOT NULL,
	CONSTRAINT PK_TIMESHEET_ID PRIMARY KEY (ID),
	CONSTRAINT CHK_TIMESHEET CHECK (STATUS IN ('ENTREGADO', 'ABIERTO'))
);


CREATE TABLE dbo.POSITION(
	ID								varchar(20) NOT NULL,
	NAME							varchar(100) NOT NULL,
	CONSTRAINT PK_POSITION_ID PRIMARY KEY (ID)
);


CREATE TABLE dbo.ORGANIZATIONAL_UNIT(
	ID								int NOT NULL,
	NAME							varchar(50) NOT NULL,
	FK_EMPLOYEE						int NOT NULL,
	CONSTRAINT PK_ORGANIZATIONALUNIT_ID PRIMARY KEY (ID)
);


CREATE TABLE dbo.ASSIGNMENT(
	ID								int NOT NULL,
	FK_POSITION						varchar(20) NOT NULL,
	FK_ORGANIZATIONALUNIT			int NOT NULL,
	FK_EMPLOYEE						int NOT NULL,
	CONSTRAINT PK_ASSIGNMENT_ID PRIMARY KEY (ID)
);

CREATE TABLE dbo.ACCOUNT_COURSE_PERMIT(
	ID								varchar(30) NOT NULL,
	NAME							varchar(100) NOT NULL,
	TYPE							varchar(50) NOT NULL,
	INITDATE						date,
	ENDDATE							date,
	FK_EMPLOYEE						int NOT NULL,
	CONSTRAINT PK_ACCOUNTCOURSEPERMIT_ID PRIMARY KEY (ID),
	CONSTRAINT CHK_ACCOUNTCOURSEPERMIT CHECK (TYPE IN ('FACTURABLE', 'NO FACTURABLE'))
);

CREATE TABLE dbo.COST_CENTER(
	ID								int NOT NULL,
	NAME							varchar(100) NOT NULL,
	FK_ORGANIZATIONALUNIT			int NOT NULL,
	FK_ACCOUNTCOURSEPERMIT			varchar(30) NOT NULL,
	CONSTRAINT PK_COSTCENTER_ID PRIMARY KEY (ID)
);

CREATE TABLE dbo.WORKLOAD(
	ID								int NOT NULL,
	WORKDAY							int NOT NULL,
	WORKHOUR						int NOT NULL,
	FK_TIMESHEET					int NOT NULL,
	FK_ACCOUNTCOURSEPERMIT			varchar(30) NOT NULL,
	CONSTRAINT PK_WORKLOAD_ID PRIMARY KEY (ID)
);