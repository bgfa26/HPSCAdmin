CREATE TABLE dbo.EMPLOYEE(
	ID								int NOT NULL,
	WORKERID						varchar(20) NOT NULL UNIQUE,
	FIRSTNAME						varchar(50) NOT NULL,
	LASTNAME						varchar(50) NOT NULL,
	EMAIL							varchar(120) NOT NULL UNIQUE,
	PASSWORD						varchar(50) NOT NULL,
	STATUS							int NOT NULL,
	CONSTRAINT PK_EMPLOYEE_ID PRIMARY KEY (ID)
);


CREATE TABLE dbo.TIMESHEET(
	ID								bigint NOT NULL,
	INITDATE						date NOT NULL,
	ENDDATE							date NOT NULL,
	STATUS							varchar(50) NOT NULL,
	FK_EMPLOYEE						int NOT NULL,
	CONSTRAINT PK_TIMESHEET_ID PRIMARY KEY (ID),
	CONSTRAINT CHK_TIMESHEET CHECK (STATUS IN ('ENTREGADA', 'ABIERTA', 'FINALIZADA', 'APROBADA POR SUPERVISOR', 'REPROBADA POR TALENTO HUMANO', 'REPROBADA POR SUPERVISOR'))
);


CREATE TABLE dbo.POSITION(
	ID								int IDENTITY(1,1) NOT NULL,
	NAME							varchar(100) NOT NULL,
	CONSTRAINT PK_POSITION_ID PRIMARY KEY (ID)
);


CREATE TABLE dbo.ORGANIZATIONAL_UNIT(
	ID								int IDENTITY(1,1) NOT NULL,
	NAME							varchar(50) NOT NULL,
	FK_EMPLOYEE						int,
	CONSTRAINT PK_ORGANIZATIONALUNIT_ID PRIMARY KEY (ID)
);


CREATE TABLE dbo.ASSIGNMENT(
	ID								int IDENTITY(1,1) NOT NULL,
	FK_POSITION						int,
	FK_ORGANIZATIONALUNIT			int,
	FK_EMPLOYEE						int NOT NULL,
	CONSTRAINT PK_ASSIGNMENT_ID PRIMARY KEY (ID)
);

CREATE TABLE dbo.ACCOUNT_COURSE_PERMIT(
	ID								varchar(30) NOT NULL,
	NAME							varchar(100) NOT NULL,
	TYPE							int NOT NULL,
	INITDATE						date,
	ENDDATE							date,
	STATUS							int NOT NULL,
	FK_EMPLOYEE						int NOT NULL,
	CONSTRAINT PK_ACCOUNTCOURSEPERMIT_ID PRIMARY KEY (ID),
	CONSTRAINT CHK_ACCOUNTCOURSEPERMIT CHECK (TYPE >= 1 AND TYPE <= 2)
);

CREATE TABLE dbo.COST_CENTER(
	ID								int IDENTITY(1,1) NOT NULL,
	FK_ORGANIZATIONALUNIT			int NOT NULL,
	FK_ACCOUNTCOURSEPERMIT			varchar(30) NOT NULL,
	CONSTRAINT PK_COSTCENTER_ID PRIMARY KEY (ID)
);

CREATE TABLE dbo.WORKLOAD(
	ID								int IDENTITY(1,1) NOT NULL,
	DAY1							int,
	DAY2							int,
	DAY3							int,
	DAY4							int,
	DAY5							int,
	DAY6							int,
	DAY7							int,
	DAY8							int,
	DAY9							int,
	DAY10							int,
	DAY11							int,
	DAY12							int,
	DAY13							int,
	DAY14							int,
	DAY15							int,
	DAY16							int,
	STATUS							varchar(50) NOT NULL,
	FK_TIMESHEET					bigint NOT NULL,
	FK_ACCOUNTCOURSEPERMIT			varchar(30) NOT NULL,
	CONSTRAINT PK_WORKLOAD_ID PRIMARY KEY (ID),
	CONSTRAINT CHK_WORKLOAD CHECK (STATUS IN ('APROBADA', 'REPROBADA', 'EN ESPERA'))
);